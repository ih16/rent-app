(this["webpackJsonprent-app"]=this["webpackJsonprent-app"]||[]).push([[0],{25:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var i=a(2),n=a.n(i),r=a(17),c=a.n(r),l=(a(25),a(4)),s=a(9),d=a(16),o=a(19),m=a(20),b=a(3),u=a(7),j=a(1),x=["children","className","icon"];var p=function(e){var t=e.children,a=e.className,i=void 0===a?"border-gray-400 text-gray-400 hover:border-gray-500":a,n=e.icon,r=Object(u.a)(e,x);return Object(j.jsxs)("button",Object(b.a)(Object(b.a)({type:"button"},r),{},{className:"px-6 py-3 flex items-center justify-evenly bg-white border-b rounded text-sm shadow ".concat(i),children:[n&&Object(j.jsx)("span",{className:"-ml-1 mr-2 text-base",children:n}),t]}))},f=["placeholder","icon","label"];var O=function(e){var t=e.placeholder,a=e.icon,i=e.label,n=Object(u.a)(e,f);return Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("span",{className:"mt-2 mb-3 text-sm text-gray-500",children:i}),Object(j.jsxs)("div",{className:"relative",children:[Object(j.jsx)("input",Object(b.a)(Object(b.a)({},n),{},{className:"p-3 pr-10 text-sm bg-white border-0 rounded outline-none shadow",placeholder:t})),Object(j.jsx)("div",{className:"text-purple-lighter absolute right-0 top-0.5 mr-4 mt-3 text-gray-600",children:a})]})]})},h=a(5),y=a(6),g=a(13),v=a(8),_=a(18),N=function(){};var w=function(e){var t=e.data,a=e.children;a.length||(a=[a]);var n=a.map((function(e){return e.props})),r=Object(i.useState)([]),c=Object(l.a)(r,2),s=c[0],d=c[1],o=Object(i.useState)({}),m=Object(l.a)(o,2),b=m[0],u=m[1];Object(i.useEffect)((function(){d(t)}),[t]);var x=function(){return n.map((function(e){return Object(j.jsx)("th",{className:"px-5 py-3 ".concat(e.width),children:Object(j.jsxs)("button",{type:"button",onClick:function(){return function(e){var t=!!(e in b);u(Object(y.a)({},e,!t||!b[e])),d((function(t){return Object(h.a)(t.sort((function(t,a){return t[e]>a[e]?b[e]?1:-1:t[e]<a[e]?b[e]?-1:1:0})))}))}(e.dataIndex)},className:"group flex items-center justify-between w-full font-medium",children:[Object(j.jsx)("span",{children:e.title}),Object(j.jsxs)("span",{className:"ml-1 text-gray-400 group-hover:text-gray-500 text-xs",children:[!(e.dataIndex in b)&&Object(j.jsx)(g.a,{}),b[e.dataIndex]&&Object(j.jsx)(g.c,{}),!!(e.dataIndex in b)&&!b[e.dataIndex]&&Object(j.jsx)(g.b,{})]})]})},e.title)}))},p=function(){return(s||[]).map((function(e){return Object(j.jsx)("tr",{className:"hover:bg-gray-100 border-b border-gray-200",children:n.map((function(t){return Object(j.jsxs)("td",{className:"py-3 px-5 ".concat(t.width," whitespace-nowrap text-").concat(t.align||"left"),children:["boolean"===typeof e[t.dataIndex]&&Object(j.jsx)("span",{className:"".concat(e[t.dataIndex]?"bg-green-50":"bg-red-50"," ").concat(e[t.dataIndex]?"text-green-600":"text-red-600"," py-1 px-3 rounded-full text-xs"),children:e[t.dataIndex]?"Yes":"No"}),e[t.dataIndex]]},t.dataIndex)}))},e.code)}))};return Object(j.jsxs)("table",{className:"my-4 bg-white rounded shadow-md",children:[Object(j.jsx)("thead",{className:"text-gray-600 text-sm leading-normal bg-gray-200 rounded-t overflow-hidden uppercase",children:Object(j.jsx)("tr",{children:Object(j.jsx)(x,{})})}),Object(j.jsxs)("tbody",{className:"max-h-120 block text-gray-600 text-sm overflow-y-auto",children:[Object(j.jsx)(p,{}),void 0===s&&Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:Object(j.jsxs)("div",{className:"flex items-center justify-center w-full h-24 text-gray-400 text-2xl",children:[Object(j.jsx)("span",{className:"text-3xl mr-1.5",children:Object(j.jsx)(_.a,{className:"spinner"})}),Object(j.jsx)("span",{children:"Loading"})]})})}),void 0!==s&&!(null===s||void 0===s?void 0:s.length)&&Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:Object(j.jsxs)("div",{className:"flex items-center justify-center w-full h-24 text-gray-400 text-2xl",children:[Object(j.jsx)("span",{className:"mt-0.5 mr-1.5",children:Object(j.jsx)(v.a,{})}),Object(j.jsx)("span",{children:"Nothing Found"})]})})})]})]})},C=[{code:"p1",name:"Air Compressor 12 GAS",type:"plain",availability:!0,needing_repair:!1,durability:3e3,max_durability:3e3,mileage:null,price:4500,minimum_rent_period:1},{code:"p2",name:"Air Compressor 5 Electric",type:"plain",availability:!0,needing_repair:!1,durability:1500,max_durability:2e3,mileage:null,price:6500,minimum_rent_period:1},{code:"p3",name:"Dia Blade 14 inch",type:"plain",availability:!0,needing_repair:!1,durability:4e4,max_durability:5e4,mileage:null,price:3e3,minimum_rent_period:2},{code:"p4",name:"Copper Blade 5 inch",type:"plain",availability:!1,needing_repair:!0,durability:0,max_durability:2e3,mileage:null,price:200,minimum_rent_period:2},{code:"p5",name:"Copper Blade 5 inch",type:"plain",availability:!1,needing_repair:!0,durability:0,max_durability:2e3,mileage:null,price:200,minimum_rent_period:2},{code:"p6",name:"Copper Blade 8 inch",type:"plain",availability:!0,needing_repair:!1,durability:1500,max_durability:2e3,mileage:null,price:300,minimum_rent_period:2},{code:"p7",name:"Beam Clamp",type:"plain",availability:!0,needing_repair:!1,durability:15e3,max_durability:2e4,mileage:null,price:800,minimum_rent_period:30},{code:"p8",name:"Beam Clamp",type:"plain",availability:!0,needing_repair:!1,durability:1e4,max_durability:2e4,mileage:null,price:800,minimum_rent_period:30},{code:"p9",name:"Beam Clamp",type:"plain",availability:!1,needing_repair:!1,durability:5e3,max_durability:2e4,mileage:null,price:800,minimum_rent_period:30},{code:"m1",name:"Boom lift 40",type:"meter",availability:!0,needing_repair:!1,durability:4e3,max_durability:8e3,mileage:1e4,price:1e3,minimum_rent_period:4},{code:"m2",name:"Boom lift 60",type:"meter",availability:!0,needing_repair:!1,durability:8e3,max_durability:1e4,mileage:5e3,price:1500,minimum_rent_period:4},{code:"m3",name:"Boom lift 80",type:"meter",availability:!1,needing_repair:!0,durability:500,max_durability:12e3,mileage:200,price:2e3,minimum_rent_period:2},{code:"m4",name:"Boom lift 100",type:"meter",availability:!0,needing_repair:!1,durability:4e3,max_durability:12e3,mileage:8500,price:2500,minimum_rent_period:2},{code:"m5",name:"Boom lift 20",type:"meter",availability:!0,needing_repair:!1,durability:1200,max_durability:8e3,mileage:600,price:500,minimum_rent_period:1},{code:"m6",name:"Boom lift 20",type:"meter",availability:!0,needing_repair:!1,durability:8e3,max_durability:8e3,mileage:0,price:500,minimum_rent_period:1},{code:"m7",name:"Boom lift 20",type:"meter",availability:!0,needing_repair:!1,durability:5e3,max_durability:8e3,mileage:1200,price:500,minimum_rent_period:1},{code:"m8",name:"Boom lift 40",type:"meter",availability:!0,needing_repair:!1,durability:8e3,max_durability:1e4,mileage:2500,price:1e3,minimum_rent_period:2}];var S=function(e){var t=e.title,a=void 0===t?"Modal Title":t,i=e.submitLabel,n=void 0===i?"Submit":i,r=e.submitIcon,c=e.submitCallback,l=e.closeCallback,s=e.closeLabel,d=void 0===s?"Close":s,o=e.closeIcon,m=e.content,b=e.form,u=e.setModalState;return Object(j.jsx)("div",{"aria-hidden":"true",className:"bg-black backdrop-filter backdrop-blur-sm absolute z-10 bottom-0 left-0 top-0 flex items-end justify-center w-full h-screen bg-opacity-20 overflow-hidden md:items-center",children:Object(j.jsxs)("div",{className:"bg-white w-full max-w-2xl p-8 flex flex-col justify-between rounded bottomRevealEffect",children:[Object(j.jsx)("div",{className:"mt-2 text-2xl font-semibold",children:a}),Object(j.jsx)("div",{className:"flex w-full justify-start",children:m}),Object(j.jsxs)("div",{className:"flex w-full justify-end mt-10 mb-2",children:[Object(j.jsx)(p,{className:"mr-2 border-blue-400 text-blue-800 hover:border-blue-500",type:b?"submit":"button",form:b,icon:r,onClick:function(){c&&c()},children:n}),Object(j.jsx)(p,{className:"border-red-400 text-red-800 hover:border-red-500",icon:o,onClick:function(){l?l():u(!1)},children:d})]})]})})},I=a(14),k=a.n(I),B=a(12),M=["options","label","placeholder"];var D=function(e){var t=e.options,a=e.label,i=e.placeholder,n=Object(u.a)(e,M);return Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("span",{className:"mt-2 mb-3 text-sm text-gray-500",children:a}),Object(j.jsxs)("div",{className:"relative",children:[Object(j.jsxs)("select",Object(b.a)(Object(b.a)({},n),{},{className:"p-3 pr-10 text-sm bg-white border-0 rounded outline-none shadow appearance-none",children:[Object(j.jsx)("option",{value:"",disabled:!0,children:i}),t.map((function(e){return Object(j.jsx)("option",{value:e.code,children:e.name},e.code)}))]})),Object(j.jsx)("div",{className:" absolute right-0 top-0.5 mr-4 mt-3 text-gray-600",children:Object(j.jsx)(v.b,{})})]})]})},P=["placeholder","label"];var R=function(e){var t=e.placeholder,a=e.label,i=Object(u.a)(e,P);return Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("span",{className:"mt-2 mb-3 text-sm text-gray-500",children:a}),Object(j.jsx)("input",Object(b.a)(Object(b.a)({},i),{},{type:"date",className:"p-3  text-sm bg-white border-0 rounded outline-none shadow",placeholder:t}))]})};var Y=function(e){var t=e.products,a=e.setProducts,n=e.setConfirmModal,r=e.setRentedProducts,c=e.setBookingModal,d=Object(i.useState)({productCode:"",fromDate:k()().format("YYYY-MM-DD"),toDate:""}),o=Object(l.a)(d,2),m=o[0],u=o[1],x=Object(i.useState)(),p=Object(l.a)(x,2),f=p[0],O=p[1],g=Object(i.useState)(),_=Object(l.a)(g,2),N=_[0],w=_[1],C=function(e){var t=e.target,a=t.value,i=t.name;u((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(y.a)({},i,a))}))};return Object(i.useEffect)((function(){O(t.find((function(e){return e.code===m.productCode})))}),[m.productCode]),Object(i.useEffect)((function(){f&&u((function(e){return Object(b.a)(Object(b.a)({},e),{},{toDate:k()(m.fromDate).add(f.minimum_rent_period,"day").format("YYYY-MM-DD")})}))}),[f]),Object(j.jsxs)("div",{className:"flex flex-col w-full",children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var i=m.productCode,l=m.fromDate,s=m.toDate,d=t.find((function(e){return e.code===i})),o=k()(s).diff(l,"day",!0);if(o<=0||o<d.minimum_rent_period)w("Invalid rent period");else{w(void 0);var u=o*d.price,x=10*o,p="plain"===d.type?o:4*o,f=Object(j.jsxs)("span",{children:["Your estimated price is ",Object(j.jsx)("strong",{children:"$".concat(u)})]});n({title:"Book a product",open:!0,content:f,action:function(){r((function(e){return[].concat(Object(h.a)(e),[{name:d.name,code:d.code,mileage:x,rent_period:o,rental_fee:u,durability_deduction:p}])})),a((function(e){return e.map((function(e){return e.code===i?Object(b.a)(Object(b.a)({},e),{},{availability:!1}):e}))})),n({open:!1}),c(!1)}})}},id:"bookingForm",className:"my-4 w-full",children:[Object(j.jsxs)("div",{className:"flex w-full items-center",children:[Object(j.jsx)(D,{required:!0,placeholder:"Select product",value:m.productCode,onChange:C,label:"Select Product",options:t.filter((function(e){return!0===e.availability})),name:"productCode"}),f&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"mx-4",children:Object(j.jsx)(R,{required:!0,value:m.fromDate,onChange:C,label:"From",name:"fromDate"})}),Object(j.jsx)(R,{required:!0,value:m.toDate,onChange:C,label:"To",name:"toDate"})]})]}),f&&Object(j.jsxs)("div",{className:"flex flex-col mt-6 ml-2 fadeInEffect",children:[Object(j.jsx)("div",{className:"text-lg mb-1 font-medium",children:f.name}),Object(j.jsxs)("div",{className:"flex items-center text-sm my-0.5",children:[Object(j.jsx)("span",{className:"mr-2 mt-0.5 text-gray-400",children:Object(j.jsx)(B.a,{})}),Object(j.jsx)("span",{className:"text-gray-500 mr-2",children:"Minimum Rental Period:"}),Object(j.jsx)("span",{children:f.minimum_rent_period})]}),Object(j.jsxs)("div",{className:"flex items-center text-sm my-0.5",children:[Object(j.jsx)("span",{className:"mr-2 mt-0.5 text-gray-400",children:Object(j.jsx)(s.b,{})}),Object(j.jsx)("span",{className:"text-gray-500 mr-2",children:"Mileage: "}),Object(j.jsx)("span",{children:f.mileage||0})]}),Object(j.jsxs)("div",{className:"flex items-center text-sm my-0.5",children:[Object(j.jsx)("span",{className:"mr-2 mt-0.5 text-gray-400",children:Object(j.jsx)(v.c,{})}),Object(j.jsx)("span",{className:"text-gray-500 mr-2",children:"Need to fix: "}),Object(j.jsx)("span",{className:"".concat(f.needing_repair?"bg-red-50":"bg-green-50"," ").concat(f.needing_repair?"text-red-600":"text-green-600"," py-1 px-3 rounded-full text-xs"),children:f.needing_repair?"Yes":"No"})]})]})]}),N&&Object(j.jsxs)("div",{className:"bg-yellow-50 p-3 mt-2 rounded text-red-600 w-full flex items-center fadeInEffect",children:[Object(j.jsx)(v.a,{}),Object(j.jsx)("span",{className:"ml-2",children:N})]})]})};function E(e,t){var a=Object(i.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(i){return console.log(i),t}})),n=Object(l.a)(a,2),r=n[0],c=n[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;c(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(i){console.log(i)}}]}var F=function(e){var t=e.title,a=e.state,i=e.setState,n=function(){return Object(j.jsxs)("div",{className:"mt-6",children:[a.content,Object(j.jsx)("br",{}),"Do you want to proceed?"]})};return Object(j.jsx)(S,{title:t,content:Object(j.jsx)(n,{}),submitLabel:"Yes",closeLabel:"No",submitCallback:a.action,closeCallback:function(){return i((function(e){return Object(b.a)(Object(b.a)({},e),{},{open:!1})}))}})};var L=function(e){var t=e.rentedProducts,a=e.setRentedProducts,n=e.setProducts,r=e.setConfirmModal,c=e.setReturnModal,d=Object(i.useState)(""),o=Object(l.a)(d,2),m=o[0],u=o[1],x=Object(i.useState)(),p=Object(l.a)(x,2),f=p[0],O=p[1],h=Object(j.jsxs)("span",{children:["Your total price is ",Object(j.jsx)("strong",{children:"$".concat(null===f||void 0===f?void 0:f.rental_fee)})]});return Object(i.useEffect)((function(){O(t.find((function(e){return e.code===m})))}),[m]),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();r({title:"Return a product",open:!0,content:h,action:function(){n((function(e){return e.map((function(e){return e.code===m?Object(b.a)(Object(b.a)({},e),{},{availability:!0,mileage:e.mileage+f.mileage,durability:e.durability-f.durability_deduction}):e}))})),a((function(e){return e.filter((function(e){return e.code!==m}))})),r({open:!1}),c(!1)}})},id:"returnForm",className:"my-4 w-full",children:[Object(j.jsx)("div",{className:"flex w-full items-center",children:Object(j.jsx)(D,{required:!0,value:m,onChange:function(e){u(e.target.value)},placeholder:"Select product",label:"Select Product",options:t,name:"productCode"})}),f&&Object(j.jsxs)("div",{className:"flex flex-col mt-6 ml-2 fadeInEffect",children:[Object(j.jsx)("div",{className:"text-lg mb-1 font-medium",children:f.name}),Object(j.jsxs)("div",{className:"flex items-center text-sm my-0.5",children:[Object(j.jsx)("span",{className:"mr-2 mt-0.5 text-gray-400",children:Object(j.jsx)(B.a,{})}),Object(j.jsx)("span",{className:"text-gray-500 mr-2",children:"Rent Period:"}),Object(j.jsx)("span",{children:f.rent_period})]}),Object(j.jsxs)("div",{className:"flex items-center text-sm my-0.5",children:[Object(j.jsx)("span",{className:"mr-2 mt-0.5 text-gray-400",children:Object(j.jsx)(s.b,{})}),Object(j.jsx)("span",{className:"text-gray-500 mr-2",children:"Mileage: "}),Object(j.jsx)("span",{children:f.mileage||0})]})]})]})};a(27);var q=function(){var e=function(){var e=Object(i.useState)(),t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,function(e){var t=e.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{serial:t+1,durability:"".concat(e.durability," / ").concat(e.max_durability),price:"$".concat(e.price)})}));n(t)}]}(),t=Object(l.a)(e,2),a=t[0],n=t[1],r=E("products",C),c=Object(l.a)(r,2),u=c[0],x=c[1],f=E("rented_products",[]),h=Object(l.a)(f,2),y=h[0],g=h[1],v=Object(i.useState)({title:null,open:!1,content:null,action:null}),_=Object(l.a)(v,2),I=_[0],k=_[1],B=Object(i.useState)(!1),M=Object(l.a)(B,2),D=M[0],P=M[1],R=Object(i.useState)(!1),q=Object(l.a)(R,2),A=q[0],J=q[1],$=Object(i.useState)(""),T=Object(l.a)($,2),z=T[0],G=T[1],H=new m.a(u,{threshold:.3,keys:["name","code"]});return Object(i.useEffect)((function(){n(u)}),[u]),Object(i.useEffect)((function(){if(z){var e=H.search(z);n(e.map((function(e){return e.item})))}else n(u)}),[z]),Object(j.jsxs)("div",{className:"min-w-screen flex justify-center py-4 min-h-screen font-sans bg-gray-100 overflow-hidden",children:[D&&Object(j.jsx)(S,{title:"Book a Product",setModalState:P,content:Object(j.jsx)(Y,{products:u,setConfirmModal:k,setRentedProducts:g,setProducts:x,setBookingModal:P}),form:"bookingForm"}),A&&Object(j.jsx)(S,{setModalState:J,title:"Return a Product",form:"returnForm",content:Object(j.jsx)(L,{rentedProducts:y,setConfirmModal:k,setProducts:x,setRentedProducts:g,setReturnModal:J})}),I.open&&Object(j.jsx)(F,{title:I.title,state:I,setState:k}),Object(j.jsxs)("div",{className:"container max-w-7xl",children:[Object(j.jsxs)("div",{className:"flex justify-between items-end w-full",children:[Object(j.jsx)(p,{onClick:function(){window.localStorage.removeItem("products"),window.localStorage.removeItem("rented_products"),x(C)},icon:Object(j.jsx)(d.a,{}),className:"border-yellow-400 text-yellow-800 hover:border-yellow-500",children:"Reset Data"}),Object(j.jsx)(O,{value:z,onChange:function(e){G(e.target.value)},icon:Object(j.jsx)(s.a,{}),placeholder:"Search"})]}),Object(j.jsx)("div",{children:Object(j.jsxs)(w,{data:a,children:[Object(j.jsx)(N,{title:"#",dataIndex:"serial",width:"w-20"}),Object(j.jsx)(N,{title:"Name",dataIndex:"name",width:"w-52"}),Object(j.jsx)(N,{title:"Code",dataIndex:"code",width:"w-32"}),Object(j.jsx)(N,{title:"Availability",dataIndex:"availability"}),Object(j.jsx)(N,{title:"Need to Repair",dataIndex:"needing_repair"}),Object(j.jsx)(N,{title:"Durability",dataIndex:"durability",width:"w-48"}),Object(j.jsx)(N,{title:"Mileage",dataIndex:"mileage"}),Object(j.jsx)(N,{title:"Price",dataIndex:"price"})]})}),Object(j.jsxs)("div",{className:"flex items-center justify-end pt-2 w-full",children:[Object(j.jsx)(p,{onClick:function(){return P(!0)},className:"mr-2 border-blue-400 text-blue-800 hover:border-blue-500",icon:Object(j.jsx)(o.a,{}),children:"Book"}),Object(j.jsx)(p,{onClick:function(){return J(!0)},icon:Object(j.jsx)(d.b,{}),className:"border-purple-400 text-purple-800 hover:border-purple-500",children:"Return"})]})]})]})};c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(q,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.f2cf9f30.chunk.js.map